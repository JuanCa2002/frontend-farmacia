<h1 class="text-center mb-5">Laboratorios registrados</h1>
<div class="container">
<div class="card">
<p-table [columns]="cols" [value]="laboratories" [paginator]="true" 
[rows]="4" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th *ngFor="let col of columns">
                {{ col.header }}
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>
            <td *ngFor="let col of columns">
                <p>{{ rowData[col.field] }}</p>
                <p-button *ngIf="col.field=='eliminar'" label="Eliminar" icon="pi pi-trash"  (click)="deleteLaboratory(rowData['id'])"styleClass="p-button-danger"></p-button>
                <p-button *ngIf="col.field=='editar'"label="Editar" icon="pi pi-pencil"  (click)="getLaboratoryById(rowData['id'])"styleClass="p-button-info"></p-button>
            </td>
        </tr>
    </ng-template>
</p-table>
</div>
<button pButton pRipple label="Crear nuevo" (click)="showDialog()" icon="pi pi-plus" class="p-button-success mt-3 mb-5" ></button>
<p-dialog header="Crear nuevo laboratorio" [(visible)]="visible" [style]="{width: '50vw'}">
    <form (ngSubmit)="createLaboratory()">
        <div class="mb-3">
          <label for="nombreLaboratorio" class="form-label">Nombre laboratorio</label>
          <input type="text" name="laboratoryName" class="form-control" [(ngModel)]="newLaboratory.laboratoryName" >
        </div>
        <button type="submit" class="btn btn-success">Crear</button>
      </form>
</p-dialog>
<p-dialog header="Editar laboratorio" [(visible)]="visibleSb" [style]="{width: '50vw'}">
    <form (ngSubmit)="updateLaboratory()">
        <div class="mb-3">
          <label for="nombreLaboratorio" class="form-label">Nombre laboratorio</label>
          <input type="text" name="laboratoryNameNew" class="form-control" [(ngModel)]="currentLaboratory.laboratoryName" >
        </div>
        <button type="submit" class="btn btn-success">Actualizar</button>
      </form>
</p-dialog>
</div>